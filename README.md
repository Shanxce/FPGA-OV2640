## 1、项目总内容：
基于NEXYS 4 DDR Atrix-7开发板的摄像显示与自动截屏系统。

## 2、功能说明：
功能1：复位信号，回到彩色，连续摄像模式。
功能2：实现人工截屏，VGA画面将暂停。
功能3：实现间隔1s的自动截屏，VGA画面每隔1s将暂停0.5s，同时每次暂停效果将在完整的一帧画面出现后产生，重新生成画面也会从新的一帧开始。
功能4：实现间隔2s的自动截屏，VGA画面每隔2s将暂停1s，同时每次暂停效果将在完整的一帧画面出现后产生，重新生成画面也会从新的一帧开始。
功能5：实现黑白画面模式，可以和画面暂停、自动截屏叠加。
功能6：实现彩色画面模式，可以和画面暂停、自动截屏叠加。

## 3、操作说明：
（1）开关J15高电位表示关闭，此时数码管会显示七位学号，同时在VGA上显示一张初始照片。
（2）将J15置低电位开机，开机后即可实现系统的摄像功能，同时VGA会实时接收数据并显示。
（3）通过移动设备的蓝牙功能发送指令，通过不同的按键，发送不同的指令，然后利用位运算的优点，实现不同类功能的叠加（黑白与画面暂停），但同类功能的不同子功能又需要选择（画面暂停与自动截屏）。
发送‘0x00’：复位信号；
发送‘0x01’：人工截屏；
发送‘0x02’：间隔1s的自动截屏；
发送‘0x03’：间隔2s的自动截屏；
发送‘0x04’：黑白画面模式；
发送‘0x05’：彩色画面模式。

## 4、系统亮点
（1）截屏时机：在本系统中，额外考虑了将当前帧的数据传输完成后再进行暂停传输操作，保证始终呈现完整的一帧图像，避免了画面的异常。
（2）功能叠加与选择：在本系统中，开发板会处理蓝牙信号，选择叠加或覆盖，对于同类型功能（暂停、自动截屏）实现覆盖，对不同类型功能（截屏与黑白模式）实现功能叠加。
（3）状态机的使用：在本系统中，两个关键模块（摄像头数据获取、SCCB数据传输）都是用了状态机的方式，状态机很适合执行这种功能复杂但是逻辑清楚的周期性系统，也是对理论的实践。
（4）蓝牙串行信号处理：我们所使用的蓝牙部件采用UART协议，这是一种串行信号传输协议，因此对于需要信号叠加处理的环节需要进行额外处理。
（5）可拓展性强：由于实现了自动截屏功能，有一定的实用性，同时，可以在后续继续开发将图像信息传入sd卡，来实现正真的截屏保存功能。

## 5、部件介绍：
(1)NEXYS 4 DDR Atrix-7开发板：由 Xilinx 公司开发出的一款现场可编程门阵列（FPGA） 开发板。
(2)蓝牙部件：服从软件通信协议UART，用于传输连接手机与开发板，通过手机的蓝牙向开发板发送指令。
(3)OV2640摄像头：服从SCCB协议，用于摄像并持续向开发板传输画面的像素信息。
(4)VGA显示器：用于持续显示像素点信息。
(5)七段数码管：用于显示蓝牙当前传输的信息的具体值。